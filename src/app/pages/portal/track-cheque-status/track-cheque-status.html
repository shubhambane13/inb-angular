<div class="container-fluid p-4">
  <div class="d-flex justify-content-between align-items-center mb-4">
    <h2 class="m-0 text-primary">Track Cheque Status</h2>
    <button mat-stroked-button color="primary" routerLink="/portal/deposit-cheque">
      <mat-icon>add</mat-icon> New Deposit Slip
    </button>
  </div>

  <mat-card class="mat-elevation-z2">
    <mat-card-content class="p-0">
      <table mat-table [dataSource]="cheques" class="w-100">
        
        <ng-container matColumnDef="dateSubmitted">
          <th mat-header-cell *matHeaderCellDef> Slip Date </th>
          <td mat-cell *matCellDef="let cheque"> 
            {{ cheque.dateSubmitted | date:'mediumDate' }} 
          </td>
        </ng-container>

        <ng-container matColumnDef="chequeInfo">
          <th mat-header-cell *matHeaderCellDef> Cheque Details </th>
          <td mat-cell *matCellDef="let cheque"> 
            <strong>{{ cheque.issuingBank }}</strong><br>
            <small class="text-muted">Chq No: {{ cheque.chequeNumber }}</small>
          </td>
        </ng-container>

        <ng-container matColumnDef="depositAccount">
          <th mat-header-cell *matHeaderCellDef> Target Account </th>
          <td mat-cell *matCellDef="let cheque"> {{ cheque.depositAccount }} </td>
        </ng-container>

        <ng-container matColumnDef="amount">
          <th mat-header-cell *matHeaderCellDef class="text-end"> Amount </th>
          <td mat-cell *matCellDef="let cheque" class="text-end fw-bold"> 
            â‚¹{{ cheque.amount | number:'1.2-2' }} 
          </td>
        </ng-container>

        <ng-container matColumnDef="status">
          <th mat-header-cell *matHeaderCellDef class="text-center"> Status </th>
          <td mat-cell *matCellDef="let cheque" class="text-center">
            <span class="badge rounded-pill p-2" [ngClass]="{
              'bg-secondary': cheque.status === 'NOT_RECEIVED',
              'bg-warning text-dark': cheque.status === 'SENT_FOR_CLEARANCE',
              'bg-success': cheque.status === 'CLEARED',
              'bg-danger': cheque.status === 'BOUNCED'
            }">
              {{ cheque.status === 'NOT_RECEIVED' ? 'Not Received' : 
                 cheque.status === 'SENT_FOR_CLEARANCE' ? 'Sent for Clearance' : 
                 cheque.status === 'CLEARED' ? 'Cleared' : 'Bounced' }}
            </span>
          </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

        <tr class="mat-row" *matNoDataRow>
          <td class="mat-cell text-center p-5 text-muted" colspan="5">
            <mat-icon class="fs-1" style="width: 40px; height: 40px;">query_stats</mat-icon>
            <h5 class="mt-2">No cheque records found.</h5>
          </td>
        </tr>
      </table>
    </mat-card-content>
  </mat-card>
</div>