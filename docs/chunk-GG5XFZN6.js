import{c}from"./chunk-5YMIWVYB.js";import{c as G,d as S,h as $}from"./chunk-NGGFL6NH.js";import{b as k,c as ee}from"./chunk-6S5TUFKN.js";import{a as re,b as oe}from"./chunk-IYGBJNYQ.js";import{a as A,b as V,e as T,h as L,i as Z}from"./chunk-RGM6O4E4.js";import"./chunk-YYPIRFDG.js";import"./chunk-PKTOL3ZA.js";import"./chunk-EJJBCPAK.js";import{a as R,b as j,c as te}from"./chunk-MJRFYZJF.js";import{a as E,b as I,c as F,e as N,f as P,h as X,i as q,j as ie}from"./chunk-LCAPZ6CO.js";import{b as v,d,g as w,h as x,j as C,l as y,m as _,p as M,q as Q}from"./chunk-CXNKKNYK.js";import"./chunk-NZRUBQON.js";import{fa as W}from"./chunk-BVIOHCPT.js";import{Ab as e,Bb as t,Cb as p,Jb as f,Jc as D,Pc as Y,Tb as i,Ub as g,Za as m,_a as u,ba as z,c as U,la as h,ma as K,pb as b,qb as J,rb as l}from"./chunk-DOXW5353.js";function be(o,B){o&1&&(e(0,"mat-error"),i(1," Customer ID is required "),t())}function Se(o,B){o&1&&(e(0,"mat-error"),i(1," Password is required "),t())}var ue=(()=>{class o{constructor(n,a,r){this.fb=n,this.router=a,this._globalService=r,this.hidePassword=!0}ngOnInit(){this.loginForm=this.fb.group({email:["",d.required],password:["",d.required]})}onSubmit(){this.loginForm.valid&&(console.log("Login Data:",this.loginForm.value),this._globalService.postToServer("auth/login-customer",this.loginForm.getRawValue()).subscribe(n=>{n.success&&(c.AUTH_TOKEN=n.jwtToken,c.USER=n.user,this.router.navigate(["/portal"]))}))}static{this.\u0275fac=function(a){return new(a||o)(u(M),u(G),u(c))}}static{this.\u0275cmp=h({type:o,selectors:[["app-login"]],decls:37,vars:8,consts:[[1,"container","py-5","h-100"],[1,"row","d-flex","justify-content-center","align-items-center","h-100"],[1,"col-12","col-md-8","col-lg-6","col-xl-5"],[1,"auth-card","px-4","py-3"],[1,"justify-content-center","mb-3"],[1,"text-primary","fw-bold","fs-2"],[3,"formGroup"],["appearance","outline",1,"w-100","mb-2"],["matInput","","formControlName","email","placeholder","Enter your ID"],["matSuffix",""],[4,"ngIf"],["appearance","outline",1,"w-100","mb-4"],["matInput","","formControlName","password",3,"type"],["mat-icon-button","","matSuffix","","type","button",3,"click"],[1,"d-grid","gap-2"],["mat-raised-button","","color","primary","type","submit","size","large",1,"py-2","fs-5",3,"click","disabled"],[1,"d-flex","justify-content-between","mt-3","px-3","align-items-center"],["routerLink","/forgot-password",1,"text-decoration-none","text-muted","small","me-3"],["routerLink","/auth/admin-login",1,"text-decoration-none","text-danger","fw-bold","small"],[1,"text-muted","small"],["routerLink","/auth/register",1,"text-decoration-none","fw-bold"]],template:function(a,r){if(a&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"mat-card",3)(4,"mat-card-header",4)(5,"mat-card-title",5),i(6,"NetBank Login"),t()(),e(7,"mat-card-content")(8,"form",6)(9,"mat-form-field",7)(10,"mat-label"),i(11,"Customer ID"),t(),p(12,"input",8),e(13,"mat-icon",9),i(14,"person"),t(),b(15,be,2,0,"mat-error",10),t(),e(16,"mat-form-field",11)(17,"mat-label"),i(18,"Password"),t(),p(19,"input",12),e(20,"button",13),f("click",function(){return r.hidePassword=!r.hidePassword}),e(21,"mat-icon"),i(22),t()(),b(23,Se,2,0,"mat-error",10),t(),e(24,"div",14)(25,"button",15),f("click",function(){return r.onSubmit()}),i(26," Secure Login "),t()()()(),e(27,"mat-card-actions",16)(28,"div")(29,"a",17),i(30,"Forgot password?"),t(),e(31,"a",18),i(32,"Login as Admin"),t()(),e(33,"span",19),i(34,"New here? "),e(35,"a",20),i(36,"Register"),t()()()()()()()),a&2){let s,H;m(8),l("formGroup",r.loginForm),m(7),l("ngIf",(s=r.loginForm.get("email"))==null?null:s.hasError("required")),m(4),l("type",r.hidePassword?"password":"text"),m(),J("aria-label","Hide password")("aria-pressed",r.hidePassword),m(2),g(r.hidePassword?"visibility_off":"visibility"),m(),l("ngIf",(H=r.loginForm.get("password"))==null?null:H.hasError("required")),m(2),l("disabled",r.loginForm.invalid)}},dependencies:[D,C,v,w,x,y,_,S,E,N,F,P,I,k,L,A,V,T,R,j,q],styles:[".auth-card[_ngcontent-%COMP%]{border-radius:1rem;box-shadow:0 4px 8px #0000001a}.mat-mdc-raised-button[_ngcontent-%COMP%]{height:50px}"]})}}return o})();function ve(o,B){o&1&&(e(0,"mat-error"),i(1,"Please enter a valid email"),t())}function we(o,B){o&1&&(e(0,"mat-error"),i(1,"Passwords do not match"),t())}var fe=(()=>{class o{constructor(n,a){this.fb=n,this._globalService=a,this.hidePassword=!0,this.hideConfirmPassword=!0}ngOnInit(){this.registerForm=this.fb.group({name:["",d.required],email:["",[d.required,d.email]],phone:["",[d.required,d.pattern("^[0-9]{10}$")]],requestedAccountType:["",d.required],address:["",d.required],password:["",[d.required,d.minLength(6)]],confirmPassword:["",d.required]},{validator:this.passwordMatchValidator})}passwordMatchValidator(n){let a=n.get("password"),r=n.get("confirmPassword");return a&&r&&a.value!==r.value?{passwordMismatch:!0}:null}onSubmit(){if(this.registerForm.valid){let n=this.registerForm.value,{confirmPassword:a}=n,r=U(n,["confirmPassword"]);console.log("Register Data:",r),this._globalService.postToServer("auth/register-customer",r).subscribe(s=>{console.log(s)})}}static{this.\u0275fac=function(a){return new(a||o)(u(M),u(c))}}static{this.\u0275cmp=h({type:o,selectors:[["app-register"]],decls:80,vars:8,consts:[[1,"container","py-5","h-100"],[1,"row","d-flex","justify-content-center","align-items-center","h-100"],[1,"col-12","col-md-8","col-lg-7","col-xl-6"],[1,"auth-card","px-4","py-3"],[1,"justify-content-center","mb-4"],[1,"text-primary","fw-bold","fs-2"],[3,"ngSubmit","formGroup"],["appearance","outline",1,"w-100","mb-1"],["matInput","","formControlName","name","placeholder","John Doe"],["matSuffix",""],["matInput","","formControlName","email","placeholder","john@example.com","type","email"],[4,"ngIf"],["matInput","","formControlName","phone","placeholder","10-digit number","type","tel"],["formControlName","requestedAccountType"],["value","SAVINGS"],["value","CURRENT"],["matInput","","formControlName","address","rows","2","placeholder","Your full address"],[1,"row"],[1,"col-md-6"],["matInput","","formControlName","password",3,"type"],["mat-icon-button","","matSuffix","","type","button",3,"click"],["appearance","outline",1,"w-100","mb-3"],["matInput","","formControlName","confirmPassword",3,"type"],[1,"d-grid","gap-2","mt-2"],["mat-raised-button","","color","primary","type","submit","size","large",1,"py-2","fs-5",3,"disabled"],[1,"justify-content-center","mt-4"],[1,"text-muted"],["routerLink","/auth/login",1,"text-decoration-none","fw-bold"]],template:function(a,r){if(a&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"mat-card",3)(4,"mat-card-header",4)(5,"mat-card-title",5),i(6,"Create Account"),t()(),e(7,"mat-card-content")(8,"form",6),f("ngSubmit",function(){return r.onSubmit()}),e(9,"mat-form-field",7)(10,"mat-label"),i(11,"Full Name"),t(),p(12,"input",8),e(13,"mat-icon",9),i(14,"badge"),t(),e(15,"mat-error"),i(16,"Name is required"),t()(),e(17,"mat-form-field",7)(18,"mat-label"),i(19,"Email Address"),t(),p(20,"input",10),e(21,"mat-icon",9),i(22,"email"),t(),b(23,ve,2,0,"mat-error",11),t(),e(24,"mat-form-field",7)(25,"mat-label"),i(26,"Phone Number"),t(),p(27,"input",12),e(28,"mat-icon",9),i(29,"phone"),t(),e(30,"mat-error"),i(31,"Valid 10-digit phone is required"),t()(),e(32,"mat-form-field",7)(33,"mat-label"),i(34,"Initial Account Type"),t(),e(35,"mat-select",13)(36,"mat-option",14),i(37,"Savings Account"),t(),e(38,"mat-option",15),i(39,"Current Account"),t()(),e(40,"mat-icon",9),i(41,"account_balance_wallet"),t(),e(42,"mat-error"),i(43,"Account Type is required"),t()(),e(44,"mat-form-field",7)(45,"mat-label"),i(46,"Address"),t(),p(47,"textarea",16),e(48,"mat-icon",9),i(49,"home"),t(),e(50,"mat-error"),i(51,"Address is required"),t()(),e(52,"div",17)(53,"div",18)(54,"mat-form-field",7)(55,"mat-label"),i(56,"Password"),t(),p(57,"input",19),e(58,"button",20),f("click",function(){return r.hidePassword=!r.hidePassword}),e(59,"mat-icon"),i(60),t()(),e(61,"mat-error"),i(62,"Min 6 chars required"),t()()(),e(63,"div",18)(64,"mat-form-field",21)(65,"mat-label"),i(66,"Confirm Password"),t(),p(67,"input",22),e(68,"button",20),f("click",function(){return r.hideConfirmPassword=!r.hideConfirmPassword}),e(69,"mat-icon"),i(70),t()(),b(71,we,2,0,"mat-error",11),t()()(),e(72,"div",23)(73,"button",24),i(74," Register Now "),t()()()(),e(75,"mat-card-actions",25)(76,"span",26),i(77,"Already have an account? "),e(78,"a",27),i(79,"Login here"),t()()()()()()()),a&2){let s;m(8),l("formGroup",r.registerForm),m(15),l("ngIf",(s=r.registerForm.get("email"))==null?null:s.hasError("email")),m(34),l("type",r.hidePassword?"password":"text"),m(3),g(r.hidePassword?"visibility_off":"visibility"),m(7),l("type",r.hideConfirmPassword?"password":"text"),m(3),g(r.hideConfirmPassword?"visibility_off":"visibility"),m(),l("ngIf",r.registerForm.hasError("passwordMismatch")),m(2),l("disabled",r.registerForm.invalid)}},dependencies:[D,C,v,w,x,y,_,S,E,N,F,P,I,k,L,A,V,T,R,j,q,re,W]})}}return o})();var ge=(()=>{class o{constructor(n,a,r){this.fb=n,this.router=a,this._globalService=r,this.hidePassword=!0}ngOnInit(){this.loginForm=this.fb.group({email:["",d.required],password:["",d.required]})}onSubmit(){this.loginForm.valid&&(console.log("Login Data:",this.loginForm.value),this._globalService.postToServer("auth/login-admin",this.loginForm.getRawValue()).subscribe(n=>{n.success&&(c.AUTH_TOKEN=n.jwtToken,c.USER=n.user,this.router.navigate(["/admin"]))}))}static{this.\u0275fac=function(a){return new(a||o)(u(M),u(G),u(c))}}static{this.\u0275cmp=h({type:o,selectors:[["app-admin-login"]],decls:30,vars:4,consts:[[1,"container","py-5","h-100"],[1,"row","d-flex","justify-content-center","align-items-center","h-100"],[1,"col-12","col-md-8","col-lg-6","col-xl-5"],[1,"auth-card","px-4","py-3","border-top","border-4","border-danger"],[1,"justify-content-center","mb-3"],[1,"text-danger","fw-bold","fs-2"],[3,"ngSubmit","formGroup"],["appearance","outline",1,"w-100","mb-2"],["matInput","","formControlName","email","placeholder","Enter Admin ID"],["matSuffix",""],["appearance","outline",1,"w-100","mb-4"],["matInput","","formControlName","password",3,"type"],["mat-icon-button","","matSuffix","","type","button",3,"click"],[1,"d-grid","gap-2"],["mat-raised-button","","color","warn","type","submit","size","large",1,"py-2","fs-5",3,"disabled"],[1,"d-flex","justify-content-center","mt-3","px-3"],[1,"text-muted","small"],["routerLink","/auth/login",1,"text-decoration-none","fw-bold","text-primary"]],template:function(a,r){a&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"mat-card",3)(4,"mat-card-header",4)(5,"mat-card-title",5),i(6,"Admin Portal"),t()(),e(7,"mat-card-content")(8,"form",6),f("ngSubmit",function(){return r.onSubmit()}),e(9,"mat-form-field",7)(10,"mat-label"),i(11,"Admin ID"),t(),p(12,"input",8),e(13,"mat-icon",9),i(14,"admin_panel_settings"),t()(),e(15,"mat-form-field",10)(16,"mat-label"),i(17,"Password"),t(),p(18,"input",11),e(19,"button",12),f("click",function(){return r.hidePassword=!r.hidePassword}),e(20,"mat-icon"),i(21),t()()(),e(22,"div",13)(23,"button",14),i(24," Admin Access "),t()()()(),e(25,"mat-card-actions",15)(26,"span",16),i(27,"Not an admin? "),e(28,"a",17),i(29,"Login as Customer"),t()()()()()()()),a&2&&(m(8),l("formGroup",r.loginForm),m(10),l("type",r.hidePassword?"password":"text"),m(3),g(r.hidePassword?"visibility_off":"visibility"),m(2),l("disabled",r.loginForm.invalid))},dependencies:[C,v,w,x,y,_,S,E,N,F,P,I,k,L,A,T,R,j,q],styles:[".auth-card[_ngcontent-%COMP%]{border-radius:1rem;box-shadow:0 4px 8px #0000001a}.mat-mdc-raised-button[_ngcontent-%COMP%]{height:50px}"]})}}return o})();var xe=[{path:"login",component:ue},{path:"admin-login",component:ge},{path:"register",component:fe},{path:"",redirectTo:"/auth/login",pathMatch:"full"}],ze=(()=>{class o{static{this.\u0275fac=function(a){return new(a||o)}}static{this.\u0275mod=K({type:o})}static{this.\u0275inj=z({imports:[Y,Q,$.forChild(xe),X,ee,te,Z,ie,oe]})}}return o})();export{ze as AuthModule,xe as routes};
