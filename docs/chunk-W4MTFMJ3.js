import{a as b}from"./chunk-NCBCJ266.js";import"./chunk-LRJ3JJRX.js";import{c as u}from"./chunk-5YMIWVYB.js";import"./chunk-FWSMBCQ4.js";import{a as d,c as m}from"./chunk-NGGFL6NH.js";import"./chunk-IYGBJNYQ.js";import"./chunk-RGM6O4E4.js";import"./chunk-YYPIRFDG.js";import"./chunk-PKTOL3ZA.js";import"./chunk-EJJBCPAK.js";import"./chunk-MJRFYZJF.js";import"./chunk-CXNKKNYK.js";import"./chunk-NZRUBQON.js";import"./chunk-BVIOHCPT.js";import{Ab as g,Bb as p,Jb as c,_a as n,ac as h,la as r,rb as l}from"./chunk-DOXW5353.js";var S=(()=>{class o{constructor(e,t,i){this._globalService=e,this.router=t,this.route=i,this.tableData={data:[],total:0},this.pageIndex=0,this.pageSize=5,this.sortDir="desc",this.sortBy="registrationDate",this.tableConfig=[{key:"name",label:"Name",type:"link",action:"view"},{key:"email",label:"Email"},{key:"registrationDate",label:"Date",type:"date"}]}ngOnInit(){this.getGrid()}handleTableAction(e){e.action==="view"&&this.router.navigate(["details"],{state:{id:e.data},relativeTo:this.route})}getGrid(){let e={pageNumber:this.pageIndex,pageSize:this.pageSize,sortBy:this.sortBy,sortDir:this.sortDir};this._globalService.postToServer("users/active-customers",e).subscribe(t=>{this.tableData={data:t.content,total:t.totalElements}})}onPageChange(e){this.pageIndex=e.pageIndex,this.pageSize=e.pageSize,this.getGrid()}onSortChange(e){e.direction?(this.sortBy=e.active,this.sortDir=e.direction):(this.sortBy="id",this.sortDir="asc"),this.pageIndex=0,this.getGrid()}static{this.\u0275fac=function(t){return new(t||o)(n(u),n(m),n(d))}}static{this.\u0275cmp=r({type:o,selectors:[["app-active-customers"]],standalone:!0,features:[h],decls:1,vars:4,consts:[[3,"onAction","onSortChange","onPageChange","tableData","columnList","pageSize","pageIndex"]],template:function(t,i){t&1&&(g(0,"app-global-table",0),c("onAction",function(a){return i.handleTableAction(a)})("onSortChange",function(a){return i.onSortChange(a)})("onPageChange",function(a){return i.onPageChange(a)}),p()),t&2&&l("tableData",i.tableData)("columnList",i.tableConfig)("pageSize",i.pageSize)("pageIndex",i.pageIndex)},dependencies:[b],styles:["[_nghost-%COMP%]{display:block}"]})}}return o})();export{S as ActiveCustomers};
